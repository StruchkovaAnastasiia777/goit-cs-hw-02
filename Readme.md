# –î–æ–º–∞—à–Ω—è —Ä–æ–±–æ—Ç–∞: –í–≤–µ–¥–µ–Ω–Ω—è –≤ Docker —Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—é

## üìã –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–æ–º–∞—à–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –≤–∏–≤—á–µ–Ω–Ω—è Docker —Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—ó. –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å:

1. **Task 1**: Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –≤–µ–±-—Å–∞–π—Ç—ñ–≤
2. **Task 2**: FastAPI –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑ PostgreSQL –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
goit-cs-hw-02/
‚îú‚îÄ‚îÄ task1/
‚îÇ   ‚îú‚îÄ‚îÄ check_websites.sh      # –°–∫—Ä–∏–ø—Ç –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–∞–π—Ç—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ website_status.log     # –õ–æ–≥-—Ñ–∞–π–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
‚îî‚îÄ‚îÄ task2/
    ‚îú‚îÄ‚îÄ Dockerfile             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Docker –æ–±—Ä–∞–∑—É
    ‚îú‚îÄ‚îÄ docker-compose.yaml    # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
    ‚îú‚îÄ‚îÄ main.py               # FastAPI –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
    ‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
    ‚îú‚îÄ‚îÄ sql_app.sqlite3       # SQLite —Ñ–∞–π–ª
    ‚îú‚îÄ‚îÄ conf/
    ‚îÇ   ‚îî‚îÄ‚îÄ db.py             # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
    ‚îú‚îÄ‚îÄ static/               # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ main.js
    ‚îÇ   ‚îî‚îÄ‚îÄ style.css
    ‚îî‚îÄ‚îÄ templates/            # HTML —à–∞–±–ª–æ–Ω–∏
        ‚îî‚îÄ‚îÄ index.html
```

## üöÄ Task 1: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±-—Å–∞–π—Ç—ñ–≤

### –û–ø–∏—Å
Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–ø–∏—Å–∫—É –≤–µ–±-—Å–∞–π—Ç—ñ–≤ –∑ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–∞–π—Ç—ñ–≤ —á–µ—Ä–µ–∑ HTTP –∑–∞–ø–∏—Ç–∏ (curl)
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑ —á–∞—Å–æ–≤–∏–º–∏ –º—ñ—Ç–∫–∞–º–∏
- ‚úÖ –î—É–±–ª—é–≤–∞–Ω–Ω—è –≤–∏–≤–æ–¥—É –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª —ñ —Ñ–∞–π–ª (tee)
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —É —Ñ–∞–π–ª `website_status.log`
- ‚úÖ –¢–∞–π–º–∞—É—Ç 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É
- ‚úÖ Debug-—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑ HTTP –∫–æ–¥–∞–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–°–ø–∏—Å–æ–∫ —Å–∞–π—Ç—ñ–≤ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:**
```bash
sites=(
  "https://google.com"
  "https://facebook.com" 
  "https://twitter.com"
)
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```bash
# –ù–∞–¥–∞—Ç–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
chmod +x check_websites.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç
./check_websites.sh

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
cat website_status.log
```

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É
```
Starting check at Mon Jul 14 16:33:22 EEST 2025
DEBUG: https://google.com returned 200
https://google.com is UP
DEBUG: https://facebook.com returned 200
https://facebook.com is UP
DEBUG: https://twitter.com returned 200
https://twitter.com is UP
Done. Results written to website_status.log
```

### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
- **–ë–µ–∑–ø–µ—á–Ω—ñ –æ–ø—Ü—ñ—ó curl**: `-skL` (skip SSL errors, follow redirects)
- **–¢–∞–π–º–∞—É—Ç**: `--max-time 10` –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∑–∞–≤–∏—Å–∞–Ω–Ω—é
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: `tee -a` –¥–ª—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ –≤–∏–≤–æ–¥—É –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª —ñ —Ñ–∞–π–ª
- **–û—á–∏—â–µ–Ω–Ω—è –ª–æ–≥—É**: `> "$log_file"` –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É

## üê≥ Task 2: FastAPI + PostgreSQL –≤ Docker

### –û–ø–∏—Å
–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ FastAPI –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö PostgreSQL, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker.

### –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
- **Backend**: FastAPI (Python 3.11)
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: PostgreSQL 13
- **ORM**: SQLAlchemy
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è**: Docker + Docker Compose
- **Frontend**: HTML/CSS/JavaScript

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ REST API –Ω–∞ FastAPI
- ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL
- ‚úÖ –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è –ë–î

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å Docker
docker --version
docker-compose --version
```

### –ü–æ—á–∞—Ç–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone https://github.com/StruchkovaAnastasiia777/goit-cs-hw-02.git
cd goit-cs-hw-02
```

### Task 1: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

```bash
cd task1
chmod +x check_websites.sh
./check_websites.sh
cat website_status.log
```

### Task 2: –ó–∞–ø—É—Å–∫ Docker –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

1. **–ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é Task 2:**
```bash
cd task2
```

2. **–ó–±—É–¥—É–≤–∞—Ç–∏ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏:**
```bash
docker-compose up --build
```

3. **–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:**
```
http://localhost:8000
```

4. **–ó—É–ø–∏–Ω–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫:**
```bash
docker-compose down
```

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Task 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–í —Ñ–∞–π–ª—ñ `conf/db.py`:
```python
SQLALCHEMY_DATABASE_URL = "postgresql+psycopg2://postgres:567234@db:5432/hw02"
```

–í —Ñ–∞–π–ª—ñ `docker-compose.yaml`:
```yaml
environment:
  POSTGRES_DB: hw02
  POSTGRES_USER: postgres
  POSTGRES_PASSWORD: 567234
```

## üìä –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ Docker

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–ø—É—â–µ–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
docker ps

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏
docker-compose logs app
docker-compose logs db

# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose exec app bash
docker-compose exec db psql -U postgres -d hw02

# –û—á–∏—Å—Ç–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏
docker-compose down --volumes --rmi all
docker system prune -a
```

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "ModuleNotFoundError: No module named 'fastapi'"
**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ—Å–æ–±–µ—Ä—ñ—Ç—å –±–µ–∑ –∫–µ—à—É
docker-compose build --no-cache
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Error connecting to the database"
**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤ conf/db.py –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è @db:5432, –Ω–µ @localhost:5432
sed -i 's/localhost/db/' conf/db.py
```

### –ü—Ä–æ–±–ª–µ–º–∞: "psycopg2 build failed"
**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ó–∞–º—ñ–Ω—ñ—Ç—å psycopg2 –Ω–∞ psycopg2-binary –≤ requirements.txt
sed -i 's/psycopg2==/psycopg2-binary==/' requirements.txt
```
